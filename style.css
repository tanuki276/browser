:root {
    /* デフォルト：暗順応（レッドモード） */
    --bg: #000000;
    --card: #050000;
    --accent: #ff0000;
    --text: #880000;
    --sub: #440000;
    --border: #220000;
    --star-op: 0; /* レッドモードでは非表示 */
}

body.normal-mode {
    --bg: #000000;
    --card: #0a0c10;
    --accent: #facc15;
    --text: #d1d5db;
    --sub: #4b5563;
    --border: #1a1a1a;
    --star-op: 1; /* 通常モードで表示 */
}

body {
    background: var(--bg); color: var(--text);
    font-family: 'JetBrains Mono', monospace;
    display: flex; justify-content: center; padding: 20px; margin: 0;
    transition: background 0.4s, color 0.4s; min-height: 100vh; overflow-x: hidden;
}

.container {
    width: 100%; max-width: 460px;
    background: var(--card); border-radius: 16px; padding: 25px;
    border: 1px solid var(--border); z-index: 10; position: relative;
    transition: background 0.4s;
}

/* 流れ星設定 */
.shooting-stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
.star {
    position: absolute; background: rgba(255, 255, 255, 0.8);
    width: 2px; height: 2px; border-radius: 50%; opacity: 0;
}
body.normal-mode .star { animation: shooting 5s infinite; opacity: var(--star-op); }

@keyframes shooting {
    0% { transform: translate(-100px, -100px) rotate(45deg); opacity: 0; }
    10% { opacity: 1; }
    40% { transform: translate(600px, 600px) rotate(45deg); opacity: 0; }
    100% { opacity: 0; }
}

/* イベントバナー */
.event-banner {
    background: rgba(255, 0, 0, 0.05); border: 1px dashed var(--accent);
    padding: 10px; border-radius: 8px; margin-bottom: 20px;
    font-size: 0.85rem; color: var(--accent); text-align: center;
}
body.normal-mode .event-banner { background: rgba(250, 204, 21, 0.05); }

.mode-toggle-btn { 
    margin-bottom: 15px; background: transparent; color: var(--accent); 
    border: 1px solid var(--accent); cursor: pointer; font-size: 0.7rem;
}

.score-circle-container {
    width: 190px; height: 190px; margin: 0 auto 20px;
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    background: conic-gradient(var(--accent) 0%, #111 0%);
}

.score-inner {
    width: 170px; height: 170px; background: var(--card); border-radius: 50%;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
}

#score-value { font-size: 4.5rem; font-weight: 900; color: var(--accent); }

.metrics-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
.metric-card { background: rgba(0,0,0,0.3); padding: 12px; border-radius: 8px; border: 1px solid var(--border); text-align: center; }

input, select, button { background: #000; color: var(--text); border: 1px solid var(--border); padding: 12px; border-radius: 6px; width: 100%; }
button.primary { background: var(--accent); color: #000; font-weight: bold; border: none; margin-top: 10px; cursor: pointer;}
